name: "Ent"
healthMultiplier: 8.0 # change as fit, must be 2 * actual multiplier
customModel: ent_boss_model_1
bossType: BOSS
# announcementPriority: 2
# locationMessage: '&2Ent: $distance blocks away!'
eliteScript:
  Initialize:
    Events:
    - EliteMobSpawnEvent
    Actions:
    # mute
    - action: RUN_COMMAND_AS_CONSOLE
      Target:
        targetType: SELF
      sValue: "data merge entity @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] {Silent:1b}"
    - action: PLAY_ANIMATION
      Target:
        targetType: SELF
      sValue: "emerge"
    - action: SCALE
      Target:
        targetType: SELF
      scale: 3.5
    - action: RUN_COMMAND_AS_CONSOLE
      Target:
        targetType: SELF
      sValue: "say Ent activated!"
    - action: PLAY_SOUND
      Target:
        targetType: SELF
      sValue: "minecraft:entity.warden.dig"
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] run fill ~-2.5 ~10 ~-2.5 ~2.5 ~ ~2.5 minecraft:air replace #minecraft:leaves"
      repeatEvery: 1
    - action: RUN_COMMAND_AS_CONSOLE
      Target:
        targetType: SELF
      sValue: "item replace entity @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] armor.head with minecraft:leather_helmet"
  Targeting:
    Events:
    - EliteMobSpawnEvent
    Zone:
      shape: CYLINDER
      radius: 32
      height: 10
      filter: PLAYER
      Target:
        targetType: SELF
        offset: "0,5,0"
    Actions:
    - action: NAVIGATE
      Target:
        targetType: ZONE_FULL
      velocity: 1.0
      duration: 100
      repeatEvery: 100
  BlockBreakAttack:
    Events:
    - EliteMobSpawnEvent
    Actions:
    - action: PLAY_ANIMATION
      Target:
        targetType: SELF
      sValue: "break_block"
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run particle minecraft:sonic_boom ^ ^2 ^1 0 1 0 0 0 force"
      wait: 2
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run particle minecraft:sonic_boom ^ ^2 ^2 0 1 0 0 0 force"
      wait: 4
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run particle minecraft:sonic_boom ^ ^2 ^3 0 1 0 0 0 force"
      wait: 6
      repeatEvery: 200
    - action: PLAY_SOUND
      Target:
        targetType: SELF
      sValue: "minecraft:entity.warden.sonic_boom"
      wait: 8
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run particle minecraft:sonic_boom ^ ^2 ^4 0 1 0 0 0 force"
      wait: 8
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run particle minecraft:sonic_boom ^ ^2 ^5 0 1 0 0 0 force"
      wait: 10
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run particle minecraft:sonic_boom ^ ^2 ^6 0 1 0 0 0 force"
      wait: 12
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run fill ^-2.5 ^-0 ^0 ^2.5 ^8 ^10 minecraft:air replace #minecraft:leaves"
      wait: 12
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run fill ^-2.5 ^-0 ^0 ^2.5 ^8 ^10 minecraft:air replace #minecraft:logs"
      wait: 12
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run fill ^-2.5 ^-0 ^0 ^2.5 ^8 ^10 minecraft:air replace brown_mushroom_block"
      wait: 12
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run fill ^-2.5 ^-0 ^0 ^2.5 ^8 ^10 minecraft:air replace red_mushroom_block"
      wait: 12
      repeatEvery: 200
    - action: RUN_COMMAND_AS_CONSOLE
      sValue: "execute at @e[x=$bossX,y=$bossY,z=$bossZ,limit=1,sort=nearest] anchored eyes facing entity @p feet run fill ^-2.5 ^-0 ^0 ^2.5 ^8 ^10 minecraft:air replace mushroom_stem"
      wait: 12
      repeatEvery: 200
  PlaceBerryBush:
    Events:
    - EliteMobSpawnEvent
    Zone:
      shape: CYLINDER
      radius: 4
      borderRadius: 3
      height: 1
      Target:
        targetType: NEARBY_PLAYERS
        range: 32
    Actions:
    - action: PLAY_ANIMATION
      Target:
        targetType: SELF
      sValue: "place_berry"
      repeatEvery: 300
    - action: PLACE_BLOCK
      Target:
        targetType: ZONE_BORDER
      duration: 64
      material: SWEET_BERRY_BUSH
      wait: 4
      repeatEvery: 300
  TakeDamage:
    Events:
    - EliteMobDamagedEvent
    Actions:
    - action: PLAY_ANIMATION
      Target:
        targetType: SELF
      sValue: "damaged"
    - action: PLAY_SOUND
      Target:
        targetType: SELF
      sValue: "minecraft:entity.warden.hurt"
  RangedAttack:
    Events:
    - EliteMobSpawnEvent
    Zone:
      shape: DOME
      radius: 7
      borderRadius: 6
      Target:
        targetType: SELF
        track: true
    Actions:
    - action: PLAY_ANIMATION
      Target:
        targetType: SELF
      sValue: "attack_ranged"
      repeatEvery: 250
    - action: SPAWN_PARTICLE
      particles:
      - particle: GLOW_SQUID_INK
      Target:
        targetType: ZONE_BORDER
        track: true
      repeatEvery: 250
    - action: DAMAGE
      Target: 
        targetType: NEARBY_PLAYERS
        range: 6
      multiplier: 1.5
      wait: 16
      repeatEvery: 250
    - action: PUSH
      Zone:
        shape: DOME
        radius: 6
      Target:
        targetType: ZONE_FULL
        track: true
      RelativeVector:
        SourceTarget:
          targetType: SELF
        DestinationTarget:
          targetType: NEARBY_PLAYERS
          range: 6
        normalize: true
        multiplier: 1.0
        offset: 0,0.2,0
      wait: 16
      repeatEvery: 250
  Death:
    Events:
    - EliteMobDeathEvent
    Actions:
    - action: PLAY_SOUND
      Target:
        targetType: SELF
      sValue: "minecraft:entity.warden.death"